<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Create a custom song with TuneCraft. Turn your prayers and stories into a professional song in 7 days.">
    <title>Create Your Song | TuneCraft</title>
    <link rel="icon" href="images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Inter:wght@400;500;600&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Form Specific Styles */
        .create-song-section {
            padding: 120px 0 60px; /* Account for fixed header */
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .form-container {
            background: var(--card-bg);
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
        }

        .progress-bar-container {
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .progress-bar-bg {
            background-color: rgba(116, 79, 184, 0.1);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar-fill {
            background: var(--accent-gradient);
            height: 100%;
            width: 20%;
            transition: width 0.3s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 8px;
        }

        .form-step {
            display: none;
            animation: fadeIn 0.5s ease;
            max-width: 700px;
            margin: 0 auto;
        }

        .form-step.active {
            display: block;
        }

        .order-page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .order-page.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            font-family: var(--font-heading);
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-main);
            font-size: 1.1rem;
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 10px;
            font-family: var(--font-body);
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, textarea.form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(116, 79, 184, 0.1);
        }

        .radio-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .radio-option {
            position: relative;
        }

        .radio-option input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .radio-label {
            display: inline-block;
            padding: 10px 20px;
            background: var(--white);
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .radio-option input:checked + .radio-label {
            background: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
            box-shadow: 0 4px 10px rgba(116, 79, 184, 0.3);
        }
        
        .radio-option input:hover + .radio-label {
            border-color: var(--primary-color);
            background: rgba(116, 79, 184, 0.05);
        }
        
        .radio-option input:checked:hover + .radio-label {
            background: var(--primary-color);
            color: var(--white);
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .btn-back {
            background: transparent;
            color: var(--text-muted);
            padding: 14px 28px;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-back:hover {
            background: rgba(0,0,0,0.05);
            color: var(--text-main);
        }

        .btn-back:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .required-star {
            color: #ef4444;
            margin-left: 4px;
        }
        
        .discount-badge {
             background: #ef4444;
             color: white;
             padding: 4px 12px;
             border-radius: 50px;
             font-size: 0.8rem;
             font-weight: bold;
             display: block;
             width: fit-content;
             margin: 0 auto 15px auto;
             box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3);
             animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Order Page Styles */
        .order-layout {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 40px;
            margin-top: 30px;
        }

        @media (max-width: 900px) {
            .order-layout {
                grid-template-columns: 1fr;
            }
        }

        .order-summary-card {
            background: #ffffff;
            border-radius: 20px;
            padding: 0;
            box-shadow: 0 15px 40px rgba(0,0,0,0.08);
            border: 1px solid rgba(0,0,0,0.03);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .order-summary-card:hover {
            transform: translateY(-5px);
        }

        .order-summary-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: var(--accent-gradient);
        }

        .order-card-body {
            padding: 30px;
        }

        .order-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px dashed rgba(0,0,0,0.1);
        }

        .order-header h3 {
            font-size: 1.4rem;
            margin-bottom: 5px;
            color: var(--text-main);
        }

        .order-header p {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin: 0;
        }

        .order-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 18px;
            font-size: 1rem;
        }

        .order-label {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .order-label svg {
            width: 18px;
            height: 18px;
            color: var(--primary-color);
        }

        .order-value {
            font-weight: 600;
            color: var(--text-main);
            text-align: right;
        }

        .total-section {
            background: #f9fafb;
            padding: 25px 30px;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .total-label {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-main);
        }

        .total-price-group {
            text-align: right;
        }

        .discount-tag {
            background: #fee2e2;
            color: #ef4444;
            font-size: 0.75rem;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .price-display {
            display: flex;
            align-items: center;
            gap: 12px;
            justify-content: flex-end;
        }

        .old-price {
            text-decoration: line-through;
            color: #9ca3af;
            font-size: 1rem;
        }

        .new-price {
            color: var(--primary-color);
            font-size: 1.8rem;
            font-weight: 800;
            line-height: 1;
        }

        .testimonial-card {
            background: #fff;
            border: 1px solid rgba(0,0,0,0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }

        .testimonial-player {
            background: #f1f3f4;
            height: 40px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            margin: 10px 0;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .guarantee-box {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            padding: 20px;
            background: rgba(116, 79, 184, 0.05);
            border-radius: 10px;
        }

        .guarantee-icon {
            color: var(--primary-color);
            font-size: 1.5rem;
        }
        
        .sibling-discount-box {
            background: #fff8e1;
            border: 1px solid #ffe082;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .play-btn-mock {
            width: 24px;
            height: 24px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            color: white;
            font-size: 10px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background-color: var(--white);
            width: 90%;
            max-width: 600px;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
            overflow: hidden;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px 30px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 1.3rem;
        }

        .close-modal {
            font-size: 28px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
            line-height: 1;
        }

        .close-modal:hover {
            color: var(--text-main);
        }

        .modal-body {
            padding: 30px;
            overflow-y: auto;
        }

        .review-item {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .review-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .review-label {
            font-weight: 600;
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .review-value {
            font-size: 1.05rem;
            color: var(--text-main);
            white-space: pre-wrap;
        }

        .btn-edit-step {
            color: var(--primary-color);
            font-size: 0.85rem;
            cursor: pointer;
            text-decoration: none;
            background: rgba(116, 79, 184, 0.1);
            padding: 4px 10px;
            border-radius: 4px;
            border: none;
            transition: all 0.2s ease;
        }

        .btn-edit-step:hover {
            background: var(--primary-color);
            color: white;
        }

        .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid rgba(0,0,0,0.05);
            text-align: right;
            background: #f8f9fa;
        }

        .mb-2 { margin-bottom: 0.5rem; }
        .mt-2 { margin-top: 0.5rem; }

        .btn-review {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            background: rgba(116, 79, 184, 0.1);
            color: var(--primary-color);
            border: 2px solid transparent;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn-review:hover {
            background: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(116, 79, 184, 0.15);
        }
        
        .btn-review svg {
            width: 18px;
            height: 18px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container header-container">
            <div class="logo">
                <a href="index.html">
                    <img src="images/logo-transparent.png" alt="TuneCraft Logo" width="150" height="60">
                </a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="track-order.html">Track Order</a></li>
                    <li><a href="reviews.html">Reviews</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-toggle" aria-label="Toggle Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <section class="create-song-section">
        <div class="container">
            <div class="form-container">
                <!-- Progress Bar (Visible only for Steps 1-5) -->
                <div class="progress-bar-container" id="progressBarContainer">
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" id="progressBar" style="width: 20%;"></div>
                    </div>
                    <div class="progress-text">
                        <span id="stepIndicator">Step 1 of 5</span>
                        <span id="progressPercentage">20% Complete</span>
                    </div>
                </div>

                <form id="createSongForm">
                    <!-- Step 1: Basics -->
                    <div class="form-step active" data-step="1">
                        <div class="text-center mb-8">
                            <span class="discount-badge">50% OFF - Limited Time</span>
                            <h2 style="display: block;">Let's start with the basics</h2>
                            <p>Tell us about the special person in your life</p>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Who's this for?<span class="required-star">*</span></label>
                            <div class="radio-grid">
                                <div class="radio-option"><input type="radio" name="recipientType" value="Husband" id="recipient-husband"><label for="recipient-husband" class="radio-label">Husband</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Wife" id="recipient-wife"><label for="recipient-wife" class="radio-label">Wife</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Boyfriend" id="recipient-boyfriend"><label for="recipient-boyfriend" class="radio-label">Boyfriend</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Girlfriend" id="recipient-girlfriend"><label for="recipient-girlfriend" class="radio-label">Girlfriend</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Children" id="recipient-children"><label for="recipient-children" class="radio-label">Children</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Father" id="recipient-father"><label for="recipient-father" class="radio-label">Father</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Mother" id="recipient-mother"><label for="recipient-mother" class="radio-label">Mother</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Sibling" id="recipient-sibling"><label for="recipient-sibling" class="radio-label">Sibling</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Friend" id="recipient-friend"><label for="recipient-friend" class="radio-label">Friend</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Myself" id="recipient-myself"><label for="recipient-myself" class="radio-label">Myself</label></div>
                                <div class="radio-option"><input type="radio" name="recipientType" value="Other" id="recipient-other"><label for="recipient-other" class="radio-label">Other</label></div>
                            </div>
                        </div>

                        <div class="form-group" id="otherRelationshipGroup" style="display: none;">
                            <label class="form-label">Describe your relationship<span class="required-star">*</span></label>
                            <input type="text" name="otherRelationship" class="form-input" placeholder="e.g. Mentor, Cousin, Colleague">
                        </div>

                        <div class="form-group">
                            <label class="form-label">What's their name?<span class="required-star">*</span></label>
                            <input type="text" name="recipientName" class="form-input" placeholder="Enter their first name" required>
                            <p class="text-xs text-muted mt-2" style="font-size: 0.8rem; color: var(--text-muted);">Tip: add pronunciation for clarity (e.g. Alicia: ah-lee-sha)</p>
                        </div>
                    </div>

                    <!-- Step 2: Genre -->
                    <div class="form-step" data-step="2">
                        <div class="text-center mb-8">
                            <span class="discount-badge">50% OFF - Limited Time</span>
                            <h2 style="display: block;">Choose a Genre</h2>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Preferred Genre<span class="required-star">*</span></label>
                            <div class="radio-grid">
                                <div class="radio-option"><input type="radio" name="genre" value="Pop" id="gen-pop"><label for="gen-pop" class="radio-label">Pop</label></div>
                                <div class="radio-option"><input type="radio" name="genre" value="Country" id="gen-country"><label for="gen-country" class="radio-label">Country</label></div>
                                <div class="radio-option"><input type="radio" name="genre" value="Rock" id="gen-rock"><label for="gen-rock" class="radio-label">Rock</label></div>
                                <div class="radio-option"><input type="radio" name="genre" value="R&B" id="gen-rnb"><label for="gen-rnb" class="radio-label">R&B</label></div>
                                <div class="radio-option"><input type="radio" name="genre" value="Jazz" id="gen-jazz"><label for="gen-jazz" class="radio-label">Jazz</label></div>
                                <div class="radio-option"><input type="radio" name="genre" value="Worship" id="gen-worship"><label for="gen-worship" class="radio-label">Worship</label></div>
                                <div class="radio-option"><input type="radio" name="genre" value="Rap / Hip-Hop" id="gen-rap"><label for="gen-rap" class="radio-label">Rap / Hip-Hop</label></div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Preferred Voice Gender</label>
                            <p class="text-muted mb-3" style="font-size: 0.9rem;">We recommend choosing your own gender so the vocals feel personal.</p>
                            <div class="radio-grid">
                                <div class="radio-option"><input type="radio" name="voiceGender" value="Female" id="voice-female"><label for="voice-female" class="radio-label">Female Voice</label></div>
                                <div class="radio-option"><input type="radio" name="voiceGender" value="Male" id="voice-male"><label for="voice-male" class="radio-label">Male Voice</label></div>
                                <div class="radio-option"><input type="radio" name="voiceGender" value="No Preference" id="voice-any"><label for="voice-any" class="radio-label">No Preference</label></div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Qualities -->
                    <div class="form-step" data-step="3">
                        <div class="text-center mb-8">
                            <span class="discount-badge">50% OFF - Limited Time</span>
                            <h2 style="display: block;">What makes them special?</h2>
                            <p>Describe their character and the qualities you love most</p>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Their beautiful qualities</label>
                            <textarea name="qualities" class="form-input" rows="6" placeholder="Are they patient, wise, funny, encouraging, Godly? What makes them an incredible person to you?"></textarea>
                        </div>
                    </div>
                    
                    <!-- Step 4: Memories -->
                    <div class="form-step" data-step="4">
                        <div class="text-center mb-8">
                            <span class="discount-badge">50% OFF - Limited Time</span>
                            <h2 style="display: block;">Share your favorite memories</h2>
                            <p>What moments with them do you treasure most?</p>
                        </div>
                        <div class="form-group">
                             <label class="form-label">Special moments together</label>
                             <textarea name="memories" class="form-input" rows="6" placeholder="What memories do you always come back to? A moment you laugh about every time? Something you went through together that brought you closer?"></textarea>
                        </div>
                    </div>
                    
                    <!-- Step 5: Message -->
                    <div class="form-step" data-step="5">
                        <div class="text-center mb-8">
                            <span class="discount-badge">50% OFF - Limited Time</span>
                            <h2 style="display: block;">A message from your heart</h2>
                            <p>Write anything else that you feel would be relevant to include in your song, and we'll do our best to include it!</p>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Special message</label>
                            <textarea name="message" class="form-input" rows="6" placeholder="What do you want them to know, that you've never said enough? What do you want to thank them for? What is that one thing from your heart you want to say to them?"></textarea>
                        </div>
                    </div>

                    <!-- Order Page (Step 6 / Summary) -->
                    <div class="order-page" id="orderPage">
                        <div class="text-center mb-6">
                            <h2>Almost There! Complete Your Order</h2>
                            <p>You're just one click away from creating a beautiful, personalized song for <span class="recipient-name-display font-bold"></span>.</p>
                        </div>

                        <div class="order-layout">
                            <!-- Left Column -->
                            <div class="order-left">
                                <div class="form-group mb-6">
                                    <label class="form-label">Expected song delivery date:</label>
                                    <div class="p-3 bg-green-50 text-green-700 border border-green-200 rounded-lg font-bold" style="background: #ecfdf5; color: #047857; padding: 12px; border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <span class="delivery-date-display"></span>
                                    </div>
                                </div>

                                <div class="form-group mb-6">
                                    <label class="form-label">Your Email Address</label>
                                    <input type="email" name="email" class="form-input" placeholder="you@email.com" required>
                                </div>

                                <button type="submit" class="btn btn-primary w-full" style="width: 100%; padding: 18px; font-size: 1.1rem; margin-bottom: 5px;">Create My Song</button>
                                <p class="text-center mb-4 text-sm text-muted">Ready to create something special for <span class="recipient-name-display font-bold"></span>?</p>
                                
                                <div class="text-center mb-6">
                                    <div class="flex items-center justify-center gap-2 text-sm text-muted">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                                        30-Day Money Back Guarantee
                                    </div>
                                </div>

                                <div class="text-center mb-8">
                                    <button type="button" id="editSurveyLink" class="btn-review">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                        </svg>
                                        Review or Edit Survey
                                    </button>
                                </div>

                                <!-- Sibling Discount Box (Dynamic) -->
                                <div id="siblingDiscountBox" class="sibling-discount-box" style="display: none;">
                                    <h4 style="color: #b45309; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path></svg>
                                        Limited Time Sibling Discount
                                    </h4>
                                    <p style="font-size: 0.9rem; margin-bottom: 10px;">Our songs typically cost $199, but we believe every sibling deserves to be celebrated for just $99 USD for a limited time only.</p>
                                    <p style="font-size: 0.9rem; font-style: italic;">Why only $99 USD? Thanks to generous donations and tips from our amazing customers, we're able to temporarily offer this special price for PrayerSongs made for siblings.</p>
                                </div>

                                <!-- Testimonials -->
                                <div class="mt-8">
                                    <h3 class="mb-4">Hear Other PrayerSongs We Made</h3>
                                    
                                    <div class="testimonial-card">
                                        <div class="flex justify-between items-center mb-2" style="display: flex; justify-content: space-between;">
                                            <strong>Sent to Me from God</strong>
                                            <span class="text-xs text-muted">Ordered by Pamela S.</span>
                                        </div>
                                        <div class="testimonial-player">
                                            <div class="play-btn-mock"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></div>
                                            <div style="flex-grow: 1; height: 4px; background: #ddd; border-radius: 2px; margin: 0 10px;"></div>
                                            <span>0:00</span>
                                        </div>
                                        <p class="italic text-sm text-muted">"Absolutely beautiful, you captured such special moments… we both were crying." — Pamela S.</p>
                                    </div>

                                    <div class="testimonial-card">
                                        <div class="flex justify-between items-center mb-2" style="display: flex; justify-content: space-between;">
                                            <strong>Saving Grace</strong>
                                            <span class="text-xs text-muted">Ordered by Wendy B.</span>
                                        </div>
                                        <div class="testimonial-player">
                                            <div class="play-btn-mock"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></div>
                                            <div style="flex-grow: 1; height: 4px; background: #ddd; border-radius: 2px; margin: 0 10px;"></div>
                                            <span>0:00</span>
                                        </div>
                                        <p class="italic text-sm text-muted">"This is absolutely breathtaking. I can't believe it… I am going to have a hard time keeping this a secret until Sunday." — Wendy B.</p>
                                    </div>

                                    <div class="testimonial-card">
                                        <div class="flex justify-between items-center mb-2" style="display: flex; justify-content: space-between;">
                                            <strong>Stronger Now</strong>
                                            <span class="text-xs text-muted">Ordered by Markeeta B.</span>
                                        </div>
                                        <div class="testimonial-player">
                                            <div class="play-btn-mock"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></div>
                                            <div style="flex-grow: 1; height: 4px; background: #ddd; border-radius: 2px; margin: 0 10px;"></div>
                                            <span>0:00</span>
                                        </div>
                                        <p class="italic text-sm text-muted">"Very very wonderful song. I absolutely loved it and so did Dave!" — Markeeta B.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Right Column (Summary) -->
                            <div class="order-right">
                                <div class="order-summary-card">
                                    <div class="order-card-body">
                                        <div class="order-header">
                                            <h3>Your Custom Song Order</h3>
                                            <p>Made with love & prayer</p>
                                        </div>
                                        
                                        <div class="order-row">
                                            <div class="order-label">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                                </svg>
                                                Song for
                                            </div>
                                            <div class="order-value recipient-name-display"></div>
                                        </div>
                                        
                                        <div class="order-row">
                                            <div class="order-label">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                </svg>
                                                Delivery
                                            </div>
                                            <div class="order-value delivery-date-display"></div>
                                        </div>

                                        <div class="order-row">
                                             <div class="order-label">
                                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 3-2 3 2zm0 0v-8" />
                                                </svg>
                                                Includes
                                            </div>
                                            <div class="order-value">Lyrics + Audio</div>
                                        </div>
                                    </div>

                                    <div class="total-section">
                                        <div class="total-row">
                                            <div class="total-label">Total Price</div>
                                            <div class="total-price-group">
                                                <div class="discount-tag">50% OFF TODAY</div>
                                                <div class="price-display">
                                                    <span class="old-price">$199</span>
                                                    <span class="new-price">$99</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-6 mb-6">
                                    <h3 class="mb-4">What You'll Get</h3>
                                    <div class="space-y-4">
                                        <div class="flex gap-3 mb-3" style="display: flex; gap: 10px;">
                                            <div class="text-primary" style="font-size: 1.5rem;">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></svg>
                                            </div>
                                            <div>
                                                <h4 style="margin: 0; font-size: 1rem;">Radio-Quality Song</h4>
                                                <p class="text-sm text-muted" style="margin: 0;">Radio-quality PrayerSong, ready to share</p>
                                            </div>
                                        </div>
                                        <div class="flex gap-3 mb-3" style="display: flex; gap: 10px;">
                                            <div class="text-primary" style="font-size: 1.5rem;">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                                            </div>
                                            <div>
                                                <h4 style="margin: 0; font-size: 1rem;">Personalized Lyrics</h4>
                                                <p class="text-sm text-muted" style="margin: 0;">Custom written just for <span class="recipient-name-display"></span></p>
                                            </div>
                                        </div>
                                        <div class="flex gap-3" style="display: flex; gap: 10px;">
                                            <div class="text-primary" style="font-size: 1.5rem;">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
                                            </div>
                                            <div>
                                                <h4 style="margin: 0; font-size: 1rem;">7-Day Delivery</h4>
                                                <p class="text-sm text-muted" style="margin: 0;">Perfect for last-minute gifts</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-6">
                                    <h3 class="mb-4">Why Choose PrayerSong?</h3>
                                    <ul class="list-unstyled space-y-3" style="list-style: none; padding: 0;">
                                        <li class="flex items-center gap-2 mb-2" style="display: flex; align-items: center; gap: 10px;">
                                            <span class="text-primary" style="color: var(--primary-color);"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span> Over 1,000 satisfied customers
                                        </li>
                                        <li class="flex items-center gap-2 mb-2" style="display: flex; align-items: center; gap: 10px;">
                                            <span class="text-primary" style="color: var(--primary-color);"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span> 100% satisfaction guarantee
                                        </li>
                                        <li class="flex items-center gap-2 mb-2" style="display: flex; align-items: center; gap: 10px;">
                                            <span class="text-primary" style="color: var(--primary-color);"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span> Secure payment processing
                                        </li>
                                        <li class="flex items-center gap-2 mb-2" style="display: flex; align-items: center; gap: 10px;">
                                            <span class="text-primary" style="color: var(--primary-color);"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span> Delivered in just 7 days
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="guarantee-box">
                            <div class="guarantee-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg></div>
                            <div>
                                <h4>100% Money Back Guarantee</h4>
                                <p class="text-sm text-muted mb-2">Not satisfied? Get a full refund. No questions asked, no hassle.</p>
                                <ul class="text-sm text-muted" style="list-style-type: disc; padding-left: 20px;">
                                    <li><strong>30-day guarantee:</strong> Plenty of time to listen and decide</li>
                                    <li><strong>Risk-free purchase:</strong> Your satisfaction is our priority</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Buttons (Visible only for Steps 1-5) -->
                    <div class="form-navigation" id="formNavigation">
                        <button type="button" class="btn-back" id="prevBtn" disabled>Back</button>
                        <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
                    </div>
                    
                    <p class="mt-6 text-center text-xs text-muted" id="footerLinks" style="font-size: 0.8rem; margin-top: 1.5rem; text-align: center;">
                       By continuing, you agree to our <a href="terms.html" class="underline">Terms of Service</a> and <a href="privacy.html" class="underline">Privacy Policy</a>.
                    </p>
                </form>
            </div>
        </div>
    </section>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Review Your Answers</h3>
                <span class="close-modal" id="closeModal">&times;</span>
            </div>
            <div class="modal-body" id="reviewModalBody">
                <!-- Content will be populated by JS -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="confirmReviewBtn">Looks Good</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                <img src="images/footer-logo.png" alt="TuneCraft Logo" class="logo-2" loading="lazy">
                <p>We create custom songs rooted in faith, to honor your loved ones and glorify God's love through music.</p>
            </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:hello@prayersong.com">hello@prayersong.com</a></li>
                    </ul>
                    <h4 style="margin-top: 30px;">Track Order</h4>
                    <ul>
                        <li><a href="track-order.html">Track Order</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Links</h4>
                    <ul>
                        <li><a href="reviews.html">Reviews</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 TuneCraft. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('createSongForm');
            const nextBtn = document.getElementById('nextBtn');
            const prevBtn = document.getElementById('prevBtn');
            const steps = document.querySelectorAll('.form-step');
            const orderPage = document.getElementById('orderPage');
            const progressBar = document.getElementById('progressBar');
            const stepIndicator = document.getElementById('stepIndicator');
            const progressPercentage = document.getElementById('progressPercentage');
            const formNavigation = document.getElementById('formNavigation');
            const progressBarContainer = document.getElementById('progressBarContainer');
            const footerLinks = document.getElementById('footerLinks');
            
            // Dynamic Data Elements
            const recipientNameDisplays = document.querySelectorAll('.recipient-name-display');
            const deliveryDateDisplays = document.querySelectorAll('.delivery-date-display');
            const siblingDiscountBox = document.getElementById('siblingDiscountBox');
            




            // Handle Form Submission (Create Checkout Session)
            form.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalText = submitBtn.innerText;
                submitBtn.disabled = true;
                submitBtn.innerText = 'Processing...';

                try {
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries());

                    const response = await fetch('/create-checkout-session', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(data),
                    });

                    const session = await response.json();

                    if (session.error) {
                        alert('Error: ' + session.error);
                        submitBtn.disabled = false;
                        submitBtn.innerText = originalText;
                    } else {
                        // Redirect to Stripe Checkout
                        window.location.href = session.url;
                    }

                } catch (error) {
                    console.error('Error:', error);
                    alert('Something went wrong. Please try again.');
                    submitBtn.disabled = false;
                    submitBtn.innerText = originalText;
                }
            });

            // "Other" Relationship Toggle Logic
            const otherRelationshipGroup = document.getElementById('otherRelationshipGroup');
            const recipientTypeRadios = document.querySelectorAll('input[name="recipientType"]');
            const otherRelationshipInput = document.querySelector('input[name="otherRelationship"]');

            function toggleOtherRelationship() {
                const selectedType = document.querySelector('input[name="recipientType"]:checked');
                if (selectedType && selectedType.value === 'Other') {
                    otherRelationshipGroup.style.display = 'block';
                    otherRelationshipInput.required = true;
                } else {
                    otherRelationshipGroup.style.display = 'none';
                    otherRelationshipInput.required = false;
                }
            }

            recipientTypeRadios.forEach(radio => {
                radio.addEventListener('change', toggleOtherRelationship);
            });
            
            // Initial check
            toggleOtherRelationship();
            
            let currentStep = 1;
            const totalSteps = 5;

            // Initialize Date
            const today = new Date();
            const deliveryDate = new Date(today);
            deliveryDate.setDate(today.getDate() + 7);
            const dateOptions = { month: 'short', day: 'numeric' };
            const formattedDate = deliveryDate.toLocaleDateString('en-US', dateOptions);
            
            deliveryDateDisplays.forEach(el => el.textContent = formattedDate);

            function updateStep() {
                // Scroll to top
                document.querySelector('.create-song-section').scrollIntoView({ behavior: 'smooth' });

                // Handle Form Steps
                steps.forEach(step => {
                    step.classList.remove('active');
                    if (parseInt(step.dataset.step) === currentStep) {
                        step.classList.add('active');
                    }
                });

                // Update Progress Bar
                const percent = (currentStep / totalSteps) * 100;
                progressBar.style.width = percent + '%';
                stepIndicator.textContent = `Step ${currentStep} of ${totalSteps}`;
                progressPercentage.textContent = `${percent}% Complete`;

                // Update Buttons
                prevBtn.disabled = currentStep === 1;
                
                if (currentStep === totalSteps) {
                    nextBtn.textContent = 'Next'; // Changed from 'Complete Order' as we go to Order Page
                } else {
                    nextBtn.textContent = 'Next';
                }
            }

            function showOrderPage() {
                // Hide Steps and Navigation
                steps.forEach(step => step.classList.remove('active'));
                formNavigation.style.display = 'none';
                progressBarContainer.style.display = 'none';
                footerLinks.style.display = 'none';

                // Show Order Page
                orderPage.classList.add('active');
                
                // Populate Data
                const formData = new FormData(form);
                const name = formData.get('recipientName') || 'your loved one';
                const type = formData.get('recipientType');
                
                recipientNameDisplays.forEach(el => el.textContent = name);
                
                // Sibling Discount Logic
                if (type === 'Sibling') {
                    siblingDiscountBox.style.display = 'block';
                } else {
                    siblingDiscountBox.style.display = 'none';
                }
                
                document.querySelector('.create-song-section').scrollIntoView({ behavior: 'smooth' });
            }

            nextBtn.addEventListener('click', function() {
                // Validation
                if (currentStep === 1) {
                     const nameInput = document.querySelector('input[name="recipientName"]');
                     const typeInput = document.querySelector('input[name="recipientType"]:checked');
                     
                     if (!typeInput) {
                         alert('Please select who this song is for.');
                         return;
                     }
                     
                     // Validate "Other" relationship input
                     if (typeInput.value === 'Other') {
                         const otherInput = document.querySelector('input[name="otherRelationship"]');
                         if (!otherInput.value.trim()) {
                             otherInput.focus();
                             return; // Stop if empty
                         }
                     }

                     if (!nameInput.value) {
                         nameInput.focus();
                         return;
                     }
                }
                
                if (currentStep < totalSteps) {
                    currentStep++;
                    updateStep();
                } else {
                    // Proceed to Order Page
                    showOrderPage();
                }
            });

            prevBtn.addEventListener('click', function() {
                if (currentStep > 1) {
                    currentStep--;
                    updateStep();
                }
            });

            // Review Modal Elements
            const reviewModal = document.getElementById('reviewModal');
            const closeModalBtn = document.getElementById('closeModal');
            const confirmReviewBtn = document.getElementById('confirmReviewBtn');
            const reviewModalBody = document.getElementById('reviewModalBody');

            // Review/Edit Link
            document.getElementById('editSurveyLink').addEventListener('click', function(e) {
                e.preventDefault();
                populateReviewModal();
                reviewModal.classList.add('show');
            });

            // Close Modal Logic
            function closeReviewModal() {
                reviewModal.classList.remove('show');
            }

            closeModalBtn.addEventListener('click', closeReviewModal);
            
            // Save & Close on Confirm
            confirmReviewBtn.addEventListener('click', function() {
                saveModalChanges();
                closeReviewModal();
            });

            window.addEventListener('click', function(e) {
                if (e.target === reviewModal) {
                    closeReviewModal();
                }
            });

            // Populate Modal Function
            function populateReviewModal() {
                const formData = new FormData(form);
                let html = '';

                // Helper to get radio value safely
                const getRadioValue = (name) => {
                    const el = document.querySelector(`input[name="${name}"]:checked`);
                    return el ? el.value : '';
                };

                const recipientType = getRadioValue('recipientType');
                const otherRelationship = document.querySelector('input[name="otherRelationship"]').value;
                const recipientName = document.querySelector('input[name="recipientName"]').value;
                const genre = getRadioValue('genre');
                const voiceGender = getRadioValue('voiceGender');
                const qualities = document.querySelector('textarea[name="qualities"]').value;
                const memories = document.querySelector('textarea[name="memories"]').value;
                const message = document.querySelector('textarea[name="message"]').value;

                // Step 1: Who's this for? & Name
                const types = ['Husband', 'Wife', 'Boyfriend', 'Girlfriend', 'Children', 'Father', 'Mother', 'Sibling', 'Friend', 'Myself', 'Other'];
                html += `
                    <div class="review-item">
                        <div class="review-label">Who is this for?</div>
                        <select id="modal-recipientType" class="form-input mb-2" style="padding: 10px;">
                            ${types.map(opt => `<option value="${opt}" ${opt === recipientType ? 'selected' : ''}>${opt}</option>`).join('')}
                        </select>
                        
                        <div id="modal-otherRelationshipGroup" style="display: ${recipientType === 'Other' ? 'block' : 'none'}; margin-bottom: 10px;">
                            <label class="review-label" style="font-weight: normal; font-size: 0.85rem;">Relationship Description</label>
                            <input type="text" id="modal-otherRelationship" class="form-input" value="${otherRelationship}" placeholder="e.g. Mentor, Cousin">
                        </div>
                        
                        <div class="review-label mt-2">What's their name?</div>
                        <input type="text" id="modal-recipientName" class="form-input" value="${recipientName}" placeholder="Enter name">
                    </div>
                `;

                // Step 2: Genre & Voice
                const genres = ['Pop', 'Country', 'Rock', 'R&B', 'Jazz', 'Worship', 'Rap / Hip-Hop'];
                const voices = ['Female', 'Male', 'No Preference'];
                
                html += `
                    <div class="review-item">
                        <div class="review-label">Preferred Genre</div>
                        <select id="modal-genre" class="form-input mb-2" style="padding: 10px;">
                            ${genres.map(opt => `<option value="${opt}" ${opt === genre ? 'selected' : ''}>${opt}</option>`).join('')}
                        </select>

                        <div class="review-label mt-2">Preferred Voice Gender</div>
                        <select id="modal-voiceGender" class="form-input" style="padding: 10px;">
                            ${voices.map(opt => `<option value="${opt}" ${opt === voiceGender ? 'selected' : ''}>${opt} Voice</option>`).join('')}
                        </select>
                    </div>
                `;

                // Step 3: Qualities
                html += `
                    <div class="review-item">
                        <div class="review-label">Their beautiful qualities</div>
                        <textarea id="modal-qualities" class="form-input" rows="3">${qualities}</textarea>
                    </div>
                `;

                // Step 4: Memories
                html += `
                    <div class="review-item">
                        <div class="review-label">Special moments together</div>
                        <textarea id="modal-memories" class="form-input" rows="3">${memories}</textarea>
                    </div>
                `;

                // Step 5: Message
                html += `
                    <div class="review-item">
                        <div class="review-label">Special message</div>
                        <textarea id="modal-message" class="form-input" rows="3">${message}</textarea>
                    </div>
                `;

                reviewModalBody.innerHTML = html;
                
                // Add listener for modal type change
                const modalTypeSelect = document.getElementById('modal-recipientType');
                const modalOtherGroup = document.getElementById('modal-otherRelationshipGroup');
                if (modalTypeSelect && modalOtherGroup) {
                    modalTypeSelect.addEventListener('change', function() {
                        modalOtherGroup.style.display = (this.value === 'Other') ? 'block' : 'none';
                    });
                }
            }

            function saveModalChanges() {
                // Update Main Form Data from Modal Inputs
                
                // Recipient Type
                const newType = document.getElementById('modal-recipientType').value;
                const typeRadio = document.querySelector(`input[name="recipientType"][value="${newType}"]`);
                if (typeRadio) {
                    typeRadio.checked = true;
                    // Trigger change to update main form visibility of "Other" input
                    typeRadio.dispatchEvent(new Event('change'));
                }
                
                // Other Relationship
                const newOtherRel = document.getElementById('modal-otherRelationship');
                if (newOtherRel) {
                    document.querySelector('input[name="otherRelationship"]').value = newOtherRel.value;
                }
                
                // Recipient Name
                const newName = document.getElementById('modal-recipientName').value;
                document.querySelector('input[name="recipientName"]').value = newName;
                
                // Genre
                const newGenre = document.getElementById('modal-genre').value;
                const genreRadio = document.querySelector(`input[name="genre"][value="${newGenre}"]`);
                if (genreRadio) genreRadio.checked = true;
                
                // Voice
                const newVoice = document.getElementById('modal-voiceGender').value;
                const voiceRadio = document.querySelector(`input[name="voiceGender"][value="${newVoice}"]`);
                if (voiceRadio) voiceRadio.checked = true;
                
                // Textareas
                document.querySelector('textarea[name="qualities"]').value = document.getElementById('modal-qualities').value;
                document.querySelector('textarea[name="memories"]').value = document.getElementById('modal-memories').value;
                document.querySelector('textarea[name="message"]').value = document.getElementById('modal-message').value;

                // Update UI Elements on Order Page
                recipientNameDisplays.forEach(el => el.textContent = newName || 'your loved one');
                
                if (newType === 'Sibling') {
                    siblingDiscountBox.style.display = 'block';
                } else {
                    siblingDiscountBox.style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>
